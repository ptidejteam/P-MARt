<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!-- Content Stylesheet for Site -->

        
<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Jon S. Stevens">
            <meta name="email" value="jon@latchkey.com">
            
            <title>Velocity - Velocity Changes</title>
        </head>

        <body bgcolor="#ffffff" text="#000000" link="#525D76">        
            <table border="0" width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align="left">
<a href="http://jakarta.apache.org"><img src="http://jakarta.apache.org/images/jakarta-logo.gif" border="0"/></a>
</td>
<td align="right">
<a href="http://jakarta.apache.org/velocity/"><img src="./images/logo.gif" alt="Velocity" border="0"/></a>
</td>
                </tr>
            </table>
            <table border="0" width="100%" cellspacing="4">
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                
                <tr>
                    <!-- LEFT SIDE NAVIGATION -->
                    <td valign="top" nowrap="true">
                                <p><strong>About</strong></p>
        <ul>
                    <li>    <a href="./index.html">Overview</a>
</li>
                    <li>    <a href="./getting-started.html">Getting Started</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/builds/jakarta-velocity/">Download</a>
</li>
                    <li>    <a href="./install.html">Install</a>
</li>
                    <li>    <a href="./design.html">Design</a>
</li>
                    <li>    <a href="./contributors.html">Contributors</a>
</li>
                    <li>    <a href="./changes.html">ChangeLog</a>
</li>
                    <li>    <a href="./code-standards.html">Coding Standards</a>
</li>
                    <li>    <a href="./license.html">License</a>
</li>
                    <li>    <a href="./todo.html">TODO</a>
</li>
                </ul>
            <p><strong>Community</strong></p>
        <ul>
                    <li>    <a href="http://jakarta.apache.org/site/getinvolved.html">Get Involved</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/mail.html">Mailing Lists</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/cvsindex.html">CVS Repositories</a>
</li>
                </ul>
            <p><strong>Docs</strong></p>
        <ul>
                    <li>    <a href="./user-guide.html">User's Guide</a>
</li>
                    <li>    <a href="./developer-guide.html">Developer's Guide</a>
</li>
                    <li>    <a href="./vtl-reference-guide.html">VTL Reference Guide</a>
</li>
                    <li>    <a href="./specification.html">Specification</a>
</li>
                    <li>    <a href="./api/index.html">Javadoc</a>
</li>
                </ul>
            <p><strong>Comparisons</strong></p>
        <ul>
                    <li>    <a href="./ymtd/ymtd.html">YMTD</a>
</li>
                    <li>    <a href="./differences.html">VM/WM Differences</a>
</li>
                </ul>
            <p><strong>Tools</strong></p>
        <ul>
                    <li>    <a href="./anakia.html">Anakia</a>
</li>
                    <li>    <a href="./texen.html">Texen</a>
</li>
                    <li>    <a href="./migration.html">Migration to Velocity</a>
</li>
                </ul>
                        </td>
                    <td align="left" valign="top">
                                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#525D76">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="Velocity Changes"><strong>Velocity Changes</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
   This document tracks the changes in Velocity between releases.
</p>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.1-rc2"><strong>1.1-rc2</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
This section describes changes to the VEL_1_1_BRANCH after the 
1.1-rc2 release.  This was released as v1.1 on June 16, 2001.
</p>
                                                <ul>
 <li>
   Update from Russel Edens to clear fileWriter cache for Texen's
   Generator.java.  (JSS)
 </li>
</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.1-rc1"><strong>1.1-rc1</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
This section describes changes to VEL_1_1_BRANCH after the 1.1-rc1
release.  This was released as v1.1-rc2 on June 2, 2001.
</p>
                                                <ul>
  <li>
     Fix to AbstractContext to 'roll forward' EventCartridges to ensure that
     the last one added is available at render time.  (gmj)
  </li>
  <li>
    Small changes to developer docs re jar-src target and docs target. (gmj)
  </li>
  <li>
    Small changes to AND and OR nodes to support the legal but wacky use like
    #set( $foo = ($woog || $bar ) ). (gmj)
  </li>
  <li>
    Major change to Parser char stream - no longer using the stock, javacc generated
    ASCII 8-bit char stream but rather a Unicode 'custom' char stream.  This solves
    the problems reported with 16 bit characters that unluckily have a 0a or 0d in the 
    low-order byte. (gmj)
  </li>
  <li>
    Added additional templates to encoding test using contributions from
    Ilkka Priha, Michael Zhou and Vitaly Repetenko.  Thanks guys!  (gmj)
  </li>
</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.1-dev"><strong>1.1-dev</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
This section describes changes to the main branch after the 1.0.1 release.
This was then branched as VEL_1_1_BRANCH in CVS and released as v1.1-rc1 on May 20, 2001. 
</p>
                                                <ul>
  <li>
    Removed build.sh and build.bat scripts in favor of making people "install" Ant.
  </li>
  <li> 
    Added Kent's, others and my changes to VelocityServlet. Fundamental change is changing
    handleRequest() to take a req, resp and ctx args, as well as making returning 
    <code>null</code> permissible to indicate that request is taken care of. (gmj)
  </li>
  <li>
    Added support for alternate encoding for templates (input sources). It is now
    controllable by two properties (input and output), and tested with UTF-8. 
    UTF-8 rocks.  Why are there others?  :)  Also added testcase. (gmj)
  </li>
  <li>
    Fixed problem where MethodInvocationExceptions were not correctly generated for
    method exceptions in a few places.  All seems to work now. (gmj)
  </li>
  <li>
    Added fix from Charles Bennet for build.xml to include all necessary parts in classpath
    for building examples. (gmj)
  </li>
  <li>
    Performance improvment additions for the AST, the majority from Kent Johnson, plus
    his suggestions for Configuration and ResourceManager (gmj)
  </li>
 <li>
    More MethodInvocationExceptions fun : the LHS of a #set() could throw
    an Exception, and we wouldn't propogate it. (gmj)
  </li>
  <li>
    EventCartridge support.  See docs :) (gmj)
  </li>
  <li>
    Documentation : basic EventCartridge description. (gmj)
  </li>
  <li>
    Added request specific encoding specification for templates. (gmj)
  </li>
  <li>
    Additions from Tim Joyce for more Method Exception propogation
    and exception event handling. (gmj)
  </li>
  <li>
    Performance patches from Kaspar Nielsen for ASTDirective and Include. (gmj)
  </li>
  <li>
    Texen patch from Robert Burrell Donkin which makes Texen throw all exceptions
    rather than eating them, and some javadoc. (gmj)
  </li>
  <li>
    Fix for the much acclaimed and dreaded #$foo, $$foo #$#$foofoo, etc bug.  (gmj)
  </li>
  <li>
    Added some autoconfigure support for the servlet example to hele
    users new to Servlets, and added a little README to help then find
    Tomcat and setup a webapp. (gmj)
  </li>
  <li>
    Removed the .close() of the output stream in VelocityServlet
    and symmetrized VelocityWriter recycle.  (gmj)
  </li>
  <li>
     Converted from using the Velocity Configuration class (now deprecated) to
     the Jakarta Commons collections component's ExtendedProperties class.
     (Which came from Velocity and was renamed.)  Should result in no changes 
     other than deprecation of Configuration and one deprecated method in
     o.a.v.app.Velocity. (gmj)
  </li>
  <li>
     Removed build/build.sh and build/build.bat and build/lib/ant*.jar to 
     move to explicit Ant-based build. (jss)
  </li>
  <li>
     Changed JarResourceLoader to use normal 'path' configuration key
     and added jar test to MultiLoaderTestCase. (gmj)
  </li>
  <li>
    Updated the regexp in the WM conversion tool. (dlr)
  </li>
  <li>
    Added EventHandler test case and example, and 
    removed NullReferenceEventHandler
    as redundant. (gmj)
  </li>
  <li>
    Moved all event-realated things to o.a.v.app.event package,
    updated all things that depend upon it,
    and modified the context stuff to support a public event 
    interface.  Also renamed the null set method to something
    more appropos, and added arg to method. (gmj)
  </li>
  <li>
    Added switch to turn off 'resource found' messages in
    ResourceManager.  Default is on.  Key is
    'resource.manager.logwhenfound'.  (gmj)
  </li>

</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.0.1-dev"><strong>1.0.1-dev</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
Released as v1.0.1-rc1 on April 10, 2001.
</p>
                                                <p>
No changes following rc1.  Released as v1.0.1 on April 22, 2001.
</p>
                                                <ul>
  <li> 
    Small fix to ASTGENode.java to catch NPE if LHS or RHS is null or not 
    int or Integer. (gmj)
  </li>
  <li>
    Added examples-clean-forumdemo target to build.xml for cleaning up 
    after building the forumdemo. (JSS)
  </li>
  <li> 
    Small fix to ASTAndNode.java to short circuit if LHS is false, and to 
    log an error of LHS or RHS is null. (gmj)
  </li>
  <li> 
    Small fix to ASTGTNode.jave to catch NPE if LHS or RHS is null. (gmj)
  </li>
  <li> 
    Documentation : changed license instructions in coding-standards.xml (gmj)
  </li>
  <li> 
    Added 'throws Exception' to handleRequest() in VelocityServlet.java 
    (suggestion from Christoph Reck)  (gmj)
  </li>
  <li> 
    Updates to README.txt and examples/README.txt as suggested by Kent Johnson (gmj)
  </li>
  <li> 
    Added Enumerator as a valid iteration type for #foreach() - added warnings
    to use of same to documentation. (gmj)
  </li>
  <li> 
    Added panic sqawk in AvalonLogSystem() to also go to stderr. (gmj)
  </li>
  <li> 
    Finished all comparison nodes (NPE prevention and good logging) and 
    enhanced logical.vm test template to try them all. (gmj)
  </li>
  <li> 
    Added xmlapp_example to examples, and added to examples build target.
    Was moved from whiteboard. (gmj)
  </li>

</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.0b3"><strong>1.0b3</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
   Released as version 1.0 on April 2, 2001
</p>
                                                <ul>
   <li>
        Documentation: Fix the VTL Reference guide for the #if
        statement. Thanks to Joaquim Carvalho for the find. (JSS)
   </li>
   <li>
        Documentation: Fixed the html in the user guide that generates
        the TOC so that the numbers come out in proper order. (JSS)
   </li>
   <li>
       Added common base class for application-level exceptions in package
       org.apache.velocity.exception.  Thanks to Kyle Downey for the 
       suggestion.  (gmj)
    </li>
    <li>
       Added javadoc to o.a.v.context.AbstractContext clarifying which
       of the internalXXX methods are required.  Thanks to 
       Joshua Levy  for the suggestion. (gmj)
    </li>
    <li>
       Added license and javadoc to examples/context_example/DBContext.java
       to clarify why some internalXXX methods are stubbed out.  (gmj)
    </li>
    <li>
       Documentation : Clarification of VM properties and added note on
       VM declaration / usage order in user guide. (gmj)
    </li>
    <li>
       Fixed HttpServletRequestWrap.java - getInputStream() wasn't calling
       the method on the wrapped HttpServletRequest. Thanks to 
       Shahar Solomianik. (gmj)
    </li>
    <li>
       Removed build.compiler from the build.xml file. (JSS)
    </li>
    <li>
       Fixed problem found by jon where high concurrency would lead to 
       a dry parser pool, which would lead to vast unpleasantness masked
       as resource access errors.  All seems to be better now.  Simple
       fix, so little risk.  (gmj)
    </li>
    <li>
       Added <code>parser.pool.size</code> as a configuration parameter to
       help tune Velocity configurations for high concurrency loads. (gmj)
    </li>
    <li>
       Documentation : developers-guide - information/example on making a
       custom logger, and start of work on documenting resource loaders. (gmj)
     </li>
     <li>
       Removed some debugging gibberish from 
       InternalContextAdapterImpl.java (gmj)
     </li>
     <li>
       Committed John McNally's Texen patch to texen's Generator.java 
       to keep from accumulating introspection cache data in iterative 
       calls to parse() with template caching off. (gmj)
     </li>
     <li>
       Documentation : added some special-case Context information and a 
       secion on Vel and XML in the developers guide. (gmj)
      </li>
</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.0b2"><strong>1.0b2</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <p>
   Released as version 1.0 beta 2 on March 26, 2001
</p>
                                                <ul> 
    <li>
        Make the distribution have CRLF for all of the text files (JSS).
    </li>
    <li>
        Fixed release packaging to create things in the right directory
        structure (JSS).
    </li>
    <li>
         Re-added 'include' support for Configuration. (JVZ)
    </li>
    <li>
         Fixed VMProxy bug when reference arg was null. (#1074) (gmj)
    </li>
    <li>
         Fixed nullpointer problem in cache refresh in ResourceManager 
	     (reported by Ilkka Priha) (gmj)
    </li>
    <li>
         VelocityServlet now respects the 'default.contentType' 
         property again.  That must have fallen out during the 'request 
         process' rework in VelServlet.  (reported by csterg@aias.gr) (gmj)
    </li>
    <li>
        Changed AnakiaTask and TexenTask to use the canonical 
        template file path rather than the literal string specified.  
        Motivated for ease of gump-tion.  Also added
        failonerror to the testcases.xml for the same reason. (gmj)
    </li>
    <li>
       Added Sam's suggestion for normalizing \n[\r] when comparing 
       results to expected results in the testbed via BaseTestCase  (gmj)
    </li>
    <li>
       Qualified import statments in Generator.java.  Added tests for 
       automatic boolean mapping in TexenTestCase.java. Added default 
       boolean mapping to texen for properties used with  the 
       contextProperties option.  Allow variants on boolean values in
       Configuration.java, and changes to relevant templates in testbed.
       Added default objects to context in TexenTask.java. (JVZ)
     </li>
     <li>
        Documentation changes to Configuration.java (DLR)
     </li>
     <li>
       Augmented the MethodInvocationException message in ASTMethod to 
       make the stacktraces more useful - noted from some traffic on 
       Turbine list.   (gmj)
     </li>
     <li>
         Added powered by logo. Look in
         xdocs/images/powered-by-logo.psd/.gif (JSS)
     </li>
     <li>
       Changed the internals of the Configuration class so that
       setProperty(K,V) will replace the value at K with V;
       addProperty(K,V) works the way setProperty(K,V) used
       to: if there is a value already stored at K then
       V is added to the vector. If nothing is being stored
       at K then the scalar V is simply added. setProperty(K,V)
       is basically a short form for clearProperty(K)/addProperty(K,V).
       Also added setConfiguration(C), so that an application using
       velocity could easily take a subset of the application
       configuration using C.subset(velocityProps) and set the
       whole velocity configuration at once. This is now how
       the velocity service works in Turbine. (JVZ)
     </li>

     <li>
       Added support to the Runtime/Velocity classes for
       addProperty(K,V). (JVZ)
     </li>
       
     <li>
       Added support to Runtime/Velocity classes for setConfiguration.
       (JVZ)
     </li>
     
     <li>
        Confirmed that the build.bat works on Win98 as well as made the
        classpath that the build.bat generates equal to the one that
        build.sh generates. (JSS)
     </li>
</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#828DA6">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="1.0b1"><strong>1.0b1</strong></a>
        </font>
      </td></tr>
      <tr><td><br/></td></tr>
      <tr><td>
        <blockquote>
                                    <ul>
    <li>
        Initial release.
    </li>
</ul>
                            </blockquote>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                            </blockquote>
        </p>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                        </td>
                </tr>

                <!-- FOOTER -->
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2">
                    <div align="center"><font color="#525D76" size="-1"><em>
                    Copyright &#169; 1999-2001, Apache Software Foundation
                    </em></font></div>
                </td></tr>
            </table>
        </body>
    </html>
<!-- end the processing -->














