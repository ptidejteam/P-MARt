<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Compiling the Plugin</title><meta name="generator" content="DocBook XSL Stylesheets V1.59.2"><link rel="home" href="index.html" title="jEdit 4.1 User's Guide"><link rel="up" href="plugin-implement.html" title="Chapter 17. Implementing a Simple Plugin"><link rel="previous" href="plugin-implement-docs.html" title="Plugin Documentation"><link rel="next" href="plugin-tips.html" title="Chapter 18. Plugin Tips and Techniques"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Compiling the Plugin</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="plugin-implement-docs.html">Prev</a> </td><th width="60%" align="center">Chapter 17. Implementing a Simple Plugin</th><td width="20%" align="right"> <a accesskey="n" href="plugin-tips.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="plugin-implement-building"></a>Compiling the Plugin</h2></div></div><p>
  We have already outlined the contents of the user action catalog, the
  properties file and the documentation file in our earlier discussion.
  The final step is to compile the source file and build the archive file
  that will hold the class files and the plugin's other resources.
</p><p>
  Publicly released plugins include with their source a makefile
  in XML format for the
  Ant utility.  The format for this file
  requires few changes from plugin to plugin.  Here is the version of
  <tt>build.xml</tt> used by QuickNotepad and many other
  plugins:
</p><div class="informalexample"><table border="0" bgcolor="#E0E0E0"><tr><td><pre class="programlisting">&lt;project name=&quot;QuickNotepad&quot; default=&quot;dist&quot; basedir=&quot;.&quot;&gt;

  &lt;property name=&quot;jedit.install.dir&quot;  value=&quot;../..&quot;/&gt;
  &lt;property name=&quot;jar.name&quot;  value=&quot;QuickNotepad.jar&quot;/&gt;

  &lt;property name=&quot;install.dir&quot;  value=&quot;..&quot;/&gt;


  &lt;path id=&quot;project.class.path&quot;&gt;
    &lt;pathelement location=&quot;${jedit.install.dir}/jedit.jar&quot;/&gt;
    &lt;pathelement location=&quot;.&quot;/&gt;
  &lt;/path&gt;


  &lt;target name=&quot;compile&quot;&gt;
    &lt;javac
      srcdir=&quot;.&quot;
      deprecation=&quot;on&quot;
      includeJavaRuntime=&quot;yes&quot;
    &gt;
      &lt;classpath refid=&quot;project.class.path&quot;/&gt;
    &lt;/javac&gt;
  &lt;/target&gt;


  &lt;target name=&quot;dist&quot; depends=&quot;compile&quot;&gt;
    &lt;mkdir dir=&quot;${install.dir}&quot;/&gt;
    &lt;jar jarfile=&quot;${install.dir}/${jar.name}&quot;&gt;
      &lt;fileset dir=&quot;.&quot;&gt;
        &lt;include name=&quot;**/*.class&quot;/&gt;
        &lt;include name=&quot;**/*.props&quot;/&gt;
        &lt;include name=&quot;**/*.html&quot;/&gt;
        &lt;include name=&quot;actions.xml&quot;/&gt;
        &lt;include name=&quot;dockables.xml&quot;/&gt;
      &lt;/fileset&gt;
    &lt;/jar&gt;
  &lt;/target&gt;
&lt;/project&gt;</pre></td></tr></table></div><p>
  For a full discussion of the <tt>Ant</tt> file format and
  command syntax, you should consult the <a href="http://jakarta.apache.org/ant/manual/index.html" target="_top">Ant
  documentation site</a>. Modifying this makefile for a different
  plugin will likely only require three changes:
</p><div class="itemizedlist"><ul type="disc"><li><p>
    the name of the plugin;
  </p></li><li><p>
    the choice of compiler (made by inserting and deleting the comment character
    <b><tt>'#'</tt></b>); and
  </p></li><li><p>
    the classpath variables for <tt>jedit.jar</tt>
    any plugins this one depends on.
  </p></li></ul></div><p>
  If you have reached this point in the text, you are probably serious
  about writing a plugin for jEdit.  Good luck with your efforts, and
  thank you for contributing to the jEdit project.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="plugin-implement-docs.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="plugin-implement.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="plugin-tips.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Plugin Documentation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 18. Plugin Tips and Techniques</td></tr></table></div></body></html>
